# UPXSheller

UPXSheller是一个基于MFC的图形界面应用程序，用于简化UPX（Ultimate Packer for eXecutables）压缩和解压操作。它提供了一个用户友好的界面来处理可执行文件的打包和解包。

## 功能特性

- **压缩/解压操作**：支持对可执行文件进行压缩和解压操作
- **多版本UPX支持**：自动扫描并支持多个版本的UPX工具
- **智能架构检测**：自动检测输入EXE文件的架构（x86/x64），并选择合适的UPX版本
- **拖拽支持**：支持拖拽文件到应用程序中进行处理
- **实时命令预览**：显示将要执行的UPX命令
- **自动状态检测**：自动检测文件是否已被压缩，避免错误操作
- **压缩级别选择**：提供从-1（最快）到-9（最小体积）的压缩级别选择
- **进度显示**：显示操作进度和输出信息
- **多种操作模式**：支持压缩、解压、列出信息、测试、版本查询等多种模式

## 系统要求

- Windows操作系统
- Microsoft Visual C++ Redistributable
- UPX工具（需要手动放置到upx子目录中）

## 安装和配置

1. 将UPX工具的可执行文件（upx.exe）放入项目目录下的`upx`子目录中
2. 推荐使用多个版本的UPX工具，例如：
   - `upx\upx-5.0.1-win64\upx.exe`
   - `upx\upx-5.0.2-win32\upx.exe`
   - `upx\upx-5.0.2-win64\upx.exe`

## 使用说明

### 基本操作

1. **选择输入文件**：点击"浏览"按钮选择要处理的可执行文件，或直接将文件拖拽到输入框中
2. **选择输出文件**：指定处理后的输出文件路径（可选）
3. **选择UPX版本**：程序会自动检测并选择合适的UPX版本
4. **设置操作参数**：
   - 选择操作类型（压缩/解压/列出等）
   - 选择压缩级别（仅压缩时有效）
   - 选择操作模式（安静/详细）
   - 选择选项（强制覆盖/备份等）
5. **开始处理**：点击"开始"按钮执行操作

### 拖拽功能

- 直接将可执行文件拖拽到应用程序窗口中，程序会自动：
  - 加载文件路径
  - 检测文件架构（x86/x64）
  - 选择适合的UPX版本
  - 检测文件是否已被压缩
  - 自动设置操作模式（压缩或解压）

### 操作类型

- **压缩**：将可执行文件进行UPX压缩
- **解压**：将已UPX压缩的文件解压
- **列出**：显示文件的压缩信息
- **测试**：测试压缩文件的完整性
- **版本**：显示UPX版本信息
- **帮助**：显示UPX帮助信息
- **许可证**：显示UPX许可证信息

### 压缩级别

- `-1`：最快压缩，速度优先
- `-5`：默认压缩级别（推荐）
- `-9`：最佳压缩，体积最小但速度最慢

## 文件结构

```
UPXSheller/
├── UPXSheller.exe          # 主程序
├── upx/                    # UPX工具目录
│   ├── upx-5.0.1-win64/
│   │   └── upx.exe
│   ├── upx-5.0.2-win32/
│   │   └── upx.exe
│   └── upx-5.0.2-win64/
│       └── upx.exe
└── README.md               # 本文件
```

## 注意事项

- 压缩过的可执行文件在某些安全软件中可能被误报为恶意软件
- 使用"强制"选项可以覆盖某些类型的文件
- 建议在处理重要文件前启用"备份"选项
- 某些受保护的可执行文件可能无法被UPX处理

## 开发信息

- **开发语言**：C++
- **框架**：MFC (Microsoft Foundation Class)
- **编译器**：Microsoft Visual Studio
- **架构**：Windows桌面应用程序

## 许可证

本项目使用UPX工具进行文件压缩/解压，UPX工具的许可证信息请参考UPX官方文档。